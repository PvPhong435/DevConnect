<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quản lý bài viết</title>
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
	rel="stylesheet">
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
	rel="stylesheet">
</head>
<body class="bg-gray-100">
	<!-- Sidebar giống template dashboard -->
	<div class="flex">
		<!-- Sidebar -->
		<div class="w-64 h-screen bg-gray-800 fixed">
			<div class="flex items-center justify-center h-16 bg-gray-900">
				<span class="text-white text-xl font-bold">Admin Panel</span>
			</div>
			<nav class="mt-4">
				<a th:href="@{/admin}"
					class="flex items-center px-6 py-3 text-white hover:bg-gray-700">
					<i class="fas fa-home mr-3"></i> Dashboard
				</a> <a th:href="@{/admin/posts}"
					class="flex items-center px-6 py-3 text-white hover:bg-gray-700">
					<i class="fas fa-blog mr-3"></i> Quản lý bài viết
				</a> <a th:href="@{/admin/categories}"
					class="flex items-center px-6 py-3 text-white hover:bg-gray-700">
					<i class="fas fa-folder mr-3"></i> Danh mục
				</a> <a th:href="@{/admin/user-management}"
					class="flex items-center px-6 py-3 text-white hover:bg-gray-700">
					<i class="fas fa-users mr-3"></i> Người dùng
				</a>
			</nav>
		</div>

		<!-- Main Content -->
		<div class="ml-64 p-8 w-full">
			<div class="flex justify-between items-center mb-6">
				<h1 class="text-2xl font-bold">Quản lý bài viết</h1>
				<button id="createPostBtn"
					class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
					<i class="fas fa-plus mr-2"></i>Thêm bài viết mới
				</button>
			</div>

			<!--        Create post modal-->
			<div th:replace="~{admin/postCreate :: createPostModal}"></div>

			<script th:replace="~{admin/postCreate :: modalScript}"></script>
			<!-- Filter and Search -->
			<div class="bg-white p-4 rounded-lg shadow-sm mb-6">
				<div class="flex flex-wrap gap-4">
					<div class="flex-1">
						<input type="text" placeholder="Tìm kiếm bài viết..."
							class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
					</div>
					<select
						class="px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
						name="categoryId">
						<option value="">Tất cả danh mục</option>
						<option th:each="category : ${categories}"
							th:value="${category.id}" th:text="${category.name}"></option>
					</select> 
					<select class="px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500">
						<option value="">Trạng thái</option>
						<option value="published">Đã xuất bản</option>
						<option value="draft">Bản nháp</option>
						<option value="archived">Đã lưu trữ</option>
					</select>
				</div>
			</div>

			<!-- Posts Table -->
			<div class="bg-white rounded-lg shadow-sm">
				<div class="overflow-x-auto">
					<table class="w-full">
						<thead class="bg-gray-50">
							<tr>
								<th
									class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">
									<input type="checkbox" class="rounded">
								</th>
								<th
									class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tiêu
									đề</th>
								<th
									class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Thể
									loại</th>
								<th
									class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Tác
									giả</th>
								<th
									class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ngày
									tạo</th>
								<th
									class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Ngày
									cập nhật</th>
							</tr>
						</thead>
						<tbody class="divide-y divide-gray-200">
							<tr th:each="article : ${articles}">
								<td class="px-6 py-4">
									<div class="font-medium" th:text="${article.title}"></div>
									<div class="text-sm text-gray-500" th:text="${article.id}"></div>
								</td>

								<td class="px-6 py-4" th:text="${article.category.categoryId}"></td>

								<td class="px-6 py-4" th:text="${article.author.fullname}"></td>

								<td class="px-6 py-4"
									th:text="${#dates.format(article.createat, 'dd-MM-yyyy HH:mm:ss')}"></td>

								<td class="px-6 py-4"
									th:text="${#dates.format(article.updateat, 'dd-MM-yyyy HH:mm:ss')}"></td>

							</tr>
						</tbody>
					</table>
				</div>

				<!-- Pagination -->
				<div class="px-6 py-4 border-t">
					<div class="flex justify-between items-center">
						<div class="text-gray-500 text-sm">Hiển thị 1-10 của 100 bài
							viết</div>
						<div class="flex space-x-2">
							<button class="px-3 py-1 border rounded hover:bg-gray-100">Trước</button>
							<button class="px-3 py-1 border rounded bg-blue-500 text-white">1</button>
							<button class="px-3 py-1 border rounded hover:bg-gray-100">2</button>
							<button class="px-3 py-1 border rounded hover:bg-gray-100">3</button>
							<button class="px-3 py-1 border rounded hover:bg-gray-100">Sau</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>